// ~/buzzaraunt/backend/routes/menuRoutes.js
const express = require('express');
const router = express.Router();
const menuController = require('../controllers/menuController');
const verifyToken = require('../middleware/verifyToken');

router.post('/add', verifyToken, menuController.addMenuItem);
router.get('/:restaurantId', menuController.getMenuItems);
router.delete('/:itemId', verifyToken, menuController.deleteMenuItem);
// ⭐️ New AI menu generation route
router.post('/ai-generate', verifyToken, menuController.generateMenuItem);
module.exports = router;
const authMiddleware = require('../middleware/authMiddleware');
const checkPlan = require('../middleware/plan');
router.post('/generate', authenticateUser, menuController.generateMenuItem);
// All menu routes require authentication
router.use(authMiddleware);
// Add a new menu item
router.post('/add', checkPlan(['basic', 'pro', 'enterprise']), menuController.addMenuItem);
// Get menu items for a specific restaurant (can be public or protected, depending on use-case)
// For internal admin view (restauraunt.html, store.html)
router.get('/:restaurantId', checkPlan(['basic', 'pro', 'enterprise']), menuController.getMenuItems);
// Delete a menu item
router.delete('/:itemId', checkPlan(['pro', 'enterprise']), menuController.deleteMenuItem);
