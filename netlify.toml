[build]
  command = "npm run build"
  publish = "dist" # CORRECTED: Vite outputs to 'dist' directory

[[plugins]]
  package = "@netlify/plugin-lighthouse"

  [plugins.inputs]
    # The 'urls' input is deprecated. Use 'audit_url' instead.
    # Set this to the path you want Lighthouse to audit on your deployed site.
    audit_url = "/" # Audits the main index.html. You can add more specific pages if needed.

    # Performance thresholds (0.0-1.0 decimal format, not 0-100)
    thresholds = { performance = 0.80, accessibility = 0.90, best-practices = 0.85, seo = 0.85 }

    # The 'preset' input is deprecated and should be removed.
    # The 'fail_on_error' input is deprecated. Use 'fail_deploy_on_score_thresholds' instead.
    fail_deploy_on_score_thresholds = false # Set to true if you want the deploy to fail if scores are below thresholds

    # Optional: Output path for Lighthouse reports
    output_path = "reports/lighthouse.html"
